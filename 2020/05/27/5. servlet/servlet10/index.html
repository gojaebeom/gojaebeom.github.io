<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">

<meta name="generator" content="Hexo 4.2.0">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="naver-site-verification" content="21356bd7ac03564bfa7f9e262bf85b79ae0b3dba">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.4.0/fonts/remixicon.css" rel="stylesheet">
<script data-ad-client="ca-pub-4526664954620841" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<title>jsp 프로젝트 만들기 - mvc1, mvc2 - Jaebeom&#39;s Blog</title>


    <meta name="description" content="이전에 만든 board-detail.jsp은 DB와 잘 연결되어 화면에 데이터를 잘 출력하는 것을 볼 수 있다. 하지만 jsp 파일 내의 코드를 보면 자바코드와 html코드가 뒤엉켜 있는 것을 볼 수 있다. 이것을 스파게티 코드라 한다.">
<meta property="og:type" content="article">
<meta property="og:title" content="jsp 프로젝트 만들기 - mvc1, mvc2">
<meta property="og:url" content="http://gojaebeom.github.io/2020/05/27/5.%20servlet/servlet10/index.html">
<meta property="og:site_name" content="Jaebeom&#39;s Blog">
<meta property="og:description" content="이전에 만든 board-detail.jsp은 DB와 잘 연결되어 화면에 데이터를 잘 출력하는 것을 볼 수 있다. 하지만 jsp 파일 내의 코드를 보면 자바코드와 html코드가 뒤엉켜 있는 것을 볼 수 있다. 이것을 스파게티 코드라 한다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="http://gojaebeom.github.io/images/servlet/thumbnail.png">
<meta property="article:published_time" content="2020-05-27T11:30:00.000Z">
<meta property="article:modified_time" content="2020-06-23T06:14:11.223Z">
<meta property="article:author" content="JaeBeom Go">
<meta property="article:tag" content="servlet">
<meta property="article:tag" content="jsp">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://gojaebeom.github.io/images/servlet/thumbnail.png">



<link rel="canonical" href="http://gojaebeom.github.io/2020/05/27/5. servlet/servlet10/">

<link rel="alternative" href="/rss2.xml" title="jsp 프로젝트 만들기 - mvc1, mvc2" type="application/atom+xml">



<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">

<link rel="stylesheet" href="https://cdn.rawgit.com/innks/NanumSquareRound/master/nanumsquareround.css">


<!-- google font -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">



    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163911815-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-163911815-2');
</script>

    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    

<link rel="stylesheet" href="/css/style.css">

</head>
<body class="is-2-column">
    <!-- night mode -->
    <script type="text/javascript" src="/js/night.js"></script>
    <canvas id="universe"></canvas>
    <script type="text/javascript" src="/js/universe.js"></script>
    <!-- night mode -->

    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img class="logo-img" src="/images/logo.png" height="26" alt="jsp 프로젝트 만들기 - mvc1, mvc2">
                <img class="logo-img-dark" src="/images/logo-dark.png" height="26" alt="jsp 프로젝트 만들기 - mvc1, mvc2">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
            </div>
            
            <div class="navbar-end">
                <a class="navbar-item night" id="night-nav" title="Night Mode" href="javascript:;">
                    <i class="fas fa-moon" id="night-icon"></i>
                </a>
                
                    
                    <a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="GitHub" href="https://github.com/gojaebeom">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="검색" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-image">
        <span class="image is-7by1">
            <img class="thumbnail" src="/images/servlet/thumbnail.png" alt="jsp 프로젝트 만들기 - mvc1, mvc2">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-05-27T11:30:00.000Z">2020-05-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/">자바 튜토리얼</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/2-servlet-jsp/">2. servlet & jsp</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12분 읽기 (대략 1786 단어)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                jsp 프로젝트 만들기 - mvc1, mvc2
            
        </h1>
        <div class="content">
            <p>이전에 만든 <code>board-detail.jsp</code>은 DB와 잘 연결되어 화면에 데이터를 잘 출력하는 것을 볼 수 있다. 하지만 jsp 파일 내의 코드를 보면 자바코드와 html코드가 뒤엉켜 있는 것을 볼 수 있다. 이것을 스파게티 코드라 한다.</p>
<a id="more"></a>

<h2 id="MVC1"><a href="#MVC1" class="headerlink" title="MVC1"></a>MVC1</h2><p>스파게티 코드는 코드량이 많아질 수록 점점 복잡해 지는 단점이 있다. 이와 같은 문제점을 해결하기 위해 MVC1 모델이 나오게 된다. 다음 그림을 보자.<br><img src="https://gojaebeom.github.io//images/servlet/example09.png" alt="board-detail.jsp"></p>
<p>위 처럼 제어에 의한 코드들은 상단에 모아놓고 밑에는 html 코드만 두는 것이다. 물론 데이터의 전달을 위한 model을 사용하는 java코드는 아직까진 해결하지 못한것 같다. (이후의 el과 jstl에 의해 어느정도 해결이 된다.)</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">    pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">	</span><br><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306?characterEncoding=UTF-8&amp;serverTimezone=UTC"</span>;</span><br><span class="line">String id = <span class="string">"root"</span>;</span><br><span class="line">String pw = <span class="string">"woqja5164!"</span>;</span><br><span class="line"></span><br><span class="line">String sql = <span class="string">"SELECT * FROM example01.board where id = 1"</span>;</span><br><span class="line">	</span><br><span class="line">Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">Connection con = DriverManager.getConnection(url,id,pw);</span><br><span class="line">Statement state = con.createStatement();</span><br><span class="line">ResultSet result = state.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">result.next();</span><br><span class="line"></span><br><span class="line">String title = result.getString(<span class="string">"title"</span>);</span><br><span class="line">String writerId = result.getString(<span class="string">"writer_id"</span>);</span><br><span class="line">String content = result.getString(<span class="string">"content"</span>);</span><br><span class="line">String files = result.getString(<span class="string">"files"</span>);</span><br><span class="line"><span class="keyword">int</span> hit = result.getInt(<span class="string">"hit"</span>);</span><br><span class="line">Date createdAt = result.getDate(<span class="string">"created_at"</span>);</span><br><span class="line"></span><br><span class="line">con.close();</span><br><span class="line">state.close();</span><br><span class="line">result.close();</span><br><span class="line">%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;nav&gt;</span><br><span class="line">		&lt;a href="/"&gt;홈&lt;/a&gt;</span><br><span class="line">		&lt;a href="/lists/board-list.jsp"&gt;게시글 목록&lt;/a&gt;</span><br><span class="line">	&lt;/nav&gt;</span><br><span class="line">	&lt;hr/&gt;</span><br><span class="line">	&lt;h1&gt;제목 : &lt;%= title %&gt;&lt;/h1&gt;</span><br><span class="line">	&lt;p&gt;작성자:&lt;%= writerId %&gt; / 작성일: &lt;%= createdAt %&gt; / 조회수: &lt;%= hit %&gt;  &lt;/p&gt;</span><br><span class="line">	&lt;p&gt;첨부 파일:&lt;%= files %&gt; &lt;/p&gt;</span><br><span class="line">	&lt;div style=<span class="string">"width:500px; height:300px; border:2px dotted gray; padding:10px;"</span>&gt;</span><br><span class="line">		&lt;%= content %&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;hr/&gt;</span><br><span class="line">	&lt;a href=""&gt;다음 글&lt;/a&gt;</span><br><span class="line">	&lt;span style="font-weight:bold"&gt;/&lt;/span&gt;</span><br><span class="line">	&lt;a href=""&gt;이전 글&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>별 차이 없어 보일 수 있는데, 이전의 코드는 html 최하단에 DB의 연결을 끊기 위한 코드를 작성했었다. 그 코드들을 모두 상단으로 가져갔는데, 여기서 포인트는 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">con.close();</span><br><span class="line">state.close();</span><br><span class="line">result.close();</span><br></pre></td></tr></table></figure>
<p>가 먼저 실행되어 db의 연결이 끊겼지만 result에서 빼온 값을 변수에 저장하여 별개로 데이터를 넘겨 줄 수 있는 점이다. (물론 다수의 데이터를 가져온다고 하면 조금 더 복잡해 지지만) 위와 같은 방법으로 java 코드를 한군데 모아 놓으니 더 깔끔해 진거 같다.</p>
<h2 id="MVC2"><a href="#MVC2" class="headerlink" title="MVC2"></a>MVC2</h2><p>하지만 MVC1 모델도 개발자들이 불편함을 느꼈는지 이후의 MVC2 방식이 나오게 된다. MVC2 방식은 기존의 자바 소스코드를 아예 별도의 파일로 분리하여 요청을 servlet에서 받아 데이터를 가공하고 jsp에게 요청과 데이터를 위임하는 방식을 사용한다. 다음 예제를 살펴보자.</p>
<h3 id="com-example-demo-controller-BoardDetail"><a href="#com-example-demo-controller-BoardDetail" class="headerlink" title="com.example.demo.controller.BoardDetail"></a>com.example.demo.controller.BoardDetail</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet</span>(<span class="string">"/board-detail"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BoardDetail</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> </span></span><br><span class="line"><span class="function">			<span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		</span><br><span class="line">		String bId_ = req.getParameter(<span class="string">"id"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> bId = (bId_ != <span class="keyword">null</span> &amp;&amp; !bId_.equals(<span class="string">""</span>)) ? Integer.valueOf(bId_) : <span class="number">1</span> ;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		String url = <span class="string">"jdbc:mysql://localhost:3306?characterEncoding=UTF-8&amp;serverTimezone=UTC"</span>;</span><br><span class="line">		String id = <span class="string">"root"</span>;</span><br><span class="line">		String pw = <span class="string">"woqja5164!"</span>;</span><br><span class="line"></span><br><span class="line">		String sql = <span class="string">"SELECT * FROM example01.board where id = "</span>+ bId;</span><br><span class="line">		</span><br><span class="line">		Connection con = <span class="keyword">null</span>;</span><br><span class="line">		Statement state = <span class="keyword">null</span>;</span><br><span class="line">		ResultSet result = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Class.forName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">			con = DriverManager.getConnection(url,id,pw);</span><br><span class="line">			state = con.createStatement();</span><br><span class="line">			result = state.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">			result.next();</span><br><span class="line"></span><br><span class="line">			Board board = <span class="keyword">new</span> Board();</span><br><span class="line">			board.setTitle(result.getString(<span class="string">"title"</span>));</span><br><span class="line">			board.setWriterId(result.getString(<span class="string">"writer_id"</span>));</span><br><span class="line">			board.setContent(result.getString(<span class="string">"content"</span>));</span><br><span class="line">			board.setFiles(result.getString(<span class="string">"files"</span>));</span><br><span class="line">			board.setHit(result.getInt(<span class="string">"hit"</span>));</span><br><span class="line">			board.setCreatedAt(result.getDate(<span class="string">"created_at"</span>));</span><br><span class="line">					</span><br><span class="line">			req.setAttribute(<span class="string">"board"</span>, board);</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				con.close();</span><br><span class="line">				state.close();</span><br><span class="line">				result.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		req.getRequestDispatcher(<span class="string">"/details/board-detail.jsp"</span>).forward(req, res);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>요청이 <a href="http://localhost:8080/board-detail" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:8080/board-detail</a> 로 들어올 경우 해당 서블릿 실행</li>
<li>쿼리스트링으로 id 값을 받아오면 쿼리의 인자로 들어감 </li>
<li>만약 id 값을 받아오지 않으면 기본 값 1로써 쿼리를 실행 -&gt; 즉 board 테이블의 1번째 행을 조회</li>
<li>변수로 담았던 title, writer_id 등의 값을 Board.java 파일로 따로 만들어 DB에서 추출한 값을 담음</li>
<li>request의 setAttribute 를 통해 값을 request 저장소에 담아둔다. </li>
<li>이후의 req.getRequestDispatcher(“/details/board-detail.jsp”).forward(req, res) 를 통해 board-detail.jsp에게 요청을 양도하고 불러옴’</li>
</ul>
<h3 id="com-example-demo-entity-Board"><a href="#com-example-demo-entity-Board" class="headerlink" title="com.example.demo.entity.Board"></a>com.example.demo.entity.Board</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Board</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String title;</span><br><span class="line">	<span class="keyword">private</span> String writerId;</span><br><span class="line">	<span class="keyword">private</span> String content;</span><br><span class="line">	<span class="keyword">private</span> Date createdAt;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> hit;</span><br><span class="line">	<span class="keyword">private</span> String files;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//생성자 정의 생략</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//getter&amp;&amp;setter 정의 생략</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>board 테이블에 대한 데이터를 담기 위한 클래스 정의</li>
</ul>
<h3 id="board-detail-jsp"><a href="#board-detail-jsp" class="headerlink" title="board-detail.jsp"></a>board-detail.jsp</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">language</span>=<span class="string">"java"</span> <span class="attr">contentType</span>=<span class="string">"text/html; charset=UTF-8"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">pageEncoding</span>=<span class="string">"UTF-8"</span>%&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>홈<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/lists/board-list.jsp"</span>&gt;</span>게시글 목록<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">h1</span>&gt;</span>제목 : $&#123;board.title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>작성자:$&#123;board.writerId &#125; / 작성일: $&#123;board.createdAt &#125; / 조회수:$&#123;board.hit &#125;  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>첨부 파일:$&#123;board.files &#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width:500px; height:300px; border:2px dotted gray; padding:10px;"</span>&gt;</span></span><br><span class="line">		$&#123;board.content &#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>다음 글<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"font-weight:bold"</span>&gt;</span>/<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>이전 글<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>forword를 통해 BoardDetail.java에게 req, res를 위임 받아 setAttribute에 저장한 board 값을 사용할 수 있음</li>
<li>el태그를 이용하여 보다 깔끔하게 model을 입력할 수 있음</li>
</ul>
<h2 id="view-은닉"><a href="#view-은닉" class="headerlink" title="view 은닉"></a>view 은닉</h2><ul>
<li><a href="http://localhost:8080/board-detail" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:8080/board-detail</a> 주소를 입력하게 되면 board 테이블의 id가 1인 데이터들이 출력되는 것을 볼 수 있다.</li>
<li>이것은 사실 id 값을 받지 않으면 기본값을 1로 받기 때문에 출력이 되는 것이다. 실제로 저 주소 대신 <a href="http://localhost:8080/board-detail?id=1" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:8080/board-detail?id=1</a> 과같은 주소를 사용하여 사용자들은 목록에서 해당하는 게시물을 찾아 들어갈 수 있게 될 것이다.</li>
</ul>
<p>그렇다면 다음과 같은 주소를 입력해보자.<br><a href="http://localhost:8080/details/board-detail.jsp?id=1" rel="external nofollow noopener noreferrer" target="_blank">http://localhost:8080/details/board-detail.jsp?id=1</a></p>
<p>화면에 데이터가 출력되지 않거나 NullPointException 오류창이 뜰 것이다. MVC2 패턴을 사용하면서 사용자는 <code>details/board-detail.jsp</code>를 직접 요청하는게 아닌 <code>/board-list</code>를 입력하여 서블릿을 먼저 실행시켜 데이터를 가공하고 가공된 데이터를 board-detail.jsp 파일에서 위임하여 실행 시키는 구조이다. 즉 위와 같이 jsp 문서를 사용자가 직접 요청하게 되면 데이터가 없는 문서를 보여주게되고, 로직에 따라 오류가 날 수 있는 가능성이 크다는 것이다. 이것은 잘못된 접근이며 그렇기에 사용자가 jsp파일을 직접 접근할 수 없게 만들어 주어야 한다.</p>
<h2 id="WEB-INF"><a href="#WEB-INF" class="headerlink" title="WEB-INF"></a>WEB-INF</h2><p>WebContent 폴더 하위에 WEB-INF라는 폴더가 보일 것이다. 이름 그대로 <code>WEB INFORMACTION</code>의 약자이며 보안에 관련된 파일들은 이 폴더의 내부에 둔다. 그렇다면 우리가 만든 index, detail, list 파일들을 이 폴더 내부로 옮겨주자. </p>
<ul>
<li>WEB-INF 폴더에 views 라는 폴더를 하나 만든다.</li>
<li>그 안에 index.jsp, (board-list.jsp를 포함한)lists폴더 , (board-detail.jsp를 포함한) details 폴더를 옮겨주자.</li>
<li>BoardDetail.java의 하단의 getRequestDispacher()의 경로를 <code>/WEB-INF/views/details/board-detail.jsp</code>로 바꿔주자.</li>
</ul>
<p>이제 파일 경로로 jsp를 호출하려고 해도 페이지를 찾을 수 없다는 404오류가 뜰 것이다. 이로써 사용자는 상세페이지를 조회하기 위해 무조건 servlet을 요청하게 되고 servlet은 해당하는 id 값을 받아 jsp 파일을 호출해 client에 응답을 해주게 된다.</p>
<p><img src="https://gojaebeom.github.io//images/servlet/example10.png" alt="board-detail.jsp"></p>
<p><sup># 해당 글은 개인적인 공부 내용을 정리하는 것을 목적으로 하고있습니다.</sup><br><sup># 설명이 다소 부족하거나 중간 내용이 생략될 수 있습니다.</sup></p>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/jsp/" rel="tag">jsp</a>, <a class="has-link-grey -link" href="/tags/servlet/" rel="tag">servlet</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5e9c9ce7f4621e00127d196a&amp;product=inline-share-buttons&amp;cms=unknown" async="async"></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2020/05/27/2.%20os/01.%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">운영체제</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2020/05/27/5.%20servlet/servlet09/">
                <span class="level-item">jsp 프로젝트 만들기 - DB 연결</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">댓글</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://gojaebeom.github.io/2020/05/27/5.%20servlet/servlet10/';
        this.page.identifier = '2020/05/27/5. servlet/servlet10/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'gojaebeom-github-io' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the<a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

<div id="disqus_thread"></div>

    </div>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right is-sticky">
    
        

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    카탈로그
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#MVC1">
        <span class="has-mr-6">1</span>
        <span>MVC1</span>
        </a></li><li>
        <a class="is-flex" href="#MVC2">
        <span class="has-mr-6">2</span>
        <span>MVC2</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#com-example-demo-controller-BoardDetail">
        <span class="has-mr-6">2.1</span>
        <span>com.example.demo.controller.BoardDetail</span>
        </a></li><li>
        <a class="is-flex" href="#com-example-demo-entity-Board">
        <span class="has-mr-6">2.2</span>
        <span>com.example.demo.entity.Board</span>
        </a></li><li>
        <a class="is-flex" href="#board-detail-jsp">
        <span class="has-mr-6">2.3</span>
        <span>board-detail.jsp</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#view-은닉">
        <span class="has-mr-6">3</span>
        <span>view 은닉</span>
        </a></li><li>
        <a class="is-flex" href="#WEB-INF">
        <span class="has-mr-6">4</span>
        <span>WEB-INF</span>
        </a></li></ul>
            </div>
        </div>
    </div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                카테고리
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/BackEnd-%EB%A1%9C%EB%93%9C%EB%A7%B5/">
            <span class="level-start">
                <span class="level-item">BackEnd 로드맵</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/BackEnd-%EB%A1%9C%EB%93%9C%EB%A7%B5/1-internet/">
            <span class="level-start">
                <span class="level-item">1. internet</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/BackEnd-%EB%A1%9C%EB%93%9C%EB%A7%B5/2-%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-OS/">
            <span class="level-start">
                <span class="level-item">2. 운영체제(OS)</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Hexo-Git-Pages-Blog/">
            <span class="level-start">
                <span class="level-item">Hexo & Git Pages Blog</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/">
            <span class="level-start">
                <span class="level-item">자바 튜토리얼</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">43</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/1-java/">
            <span class="level-start">
                <span class="level-item">1. java</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">26</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/2-servlet-jsp/">
            <span class="level-start">
                <span class="level-item">2. servlet & jsp</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">11</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/3-maven/">
            <span class="level-start">
                <span class="level-item">3. maven</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%EC%9E%90%EB%B0%94-%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC/4-spring/">
            <span class="level-start">
                <span class="level-item">4. spring</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/%EC%BD%94%EB%A1%9C%EB%82%98-%EA%B2%A9%EB%A6%AC-%EC%9A%B4%EB%8F%99/">
            <span class="level-start">
                <span class="level-item">코로나 격리 운동</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/%EC%BD%94%EB%A1%9C%EB%82%98-%EA%B2%A9%EB%A6%AC-%EC%9A%B4%EB%8F%99/%ED%94%BC%EC%95%84%EB%85%B8/">
            <span class="level-start">
                <span class="level-item">피아노</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>

    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img class="logo-img" src="/images/logo.png" alt="jsp 프로젝트 만들기 - mvc1, mvc2" height="28">
                    <img class="logo-img-dark" src="/images/logo-dark.png" alt="jsp 프로젝트 만들기 - mvc1, mvc2" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 JaeBeom Go&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("ko");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://gojaebeom.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" rel="external nofollow noopener noreferrer" target="_blank">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Zurück nach oben" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="입력 하세요...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '포스트',
                PAGES: '페이지',
                CATEGORIES: '카테고리',
                TAGS: '태그',
                UNTITLED: '(제목없음)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>